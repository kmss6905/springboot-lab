🚀 spring core 심화 2022-07-11 

손수 만든 로그추적기의 문제점
1. HTTP요청을 구분하고 깊이를 표현하기 위해서 `TraceId` 동기화가 필요하다.
2. `TraceId` 의 동기화를 위해서 관련 메서드의 모든 파라미터를 수정해야 한다.
3. 로그를 처음 시작할 때는 `begin()`을 호출하고, 처음이 아닐떄는 `beginSync()`를 호출해야한다.
   1. 만약에 컨트롤러를 통해서 서비스를 호출하는 것이 아니라, 다른 곳에서 서비스부터 호출하는 상황이라면 파라미터를 넘길`TraceId`가 없다.

제대로 된 로그(HTTP요청을 구분하고 깊이를 표현)를 남기기 위해 v0 -> v1 -> v2 로 점진적으로 서비스를 개선하였다.
개인적으로 느낀점은 모든 지 처음부터 뚝딱하고 원하는 모양의 코드형태는 절대로 나올 수 없다는 것이다.

HTTP 요청을 구분하고 깊이를 표현하기 위해서 `TraceId`를 파라미터로 넘기는 것 말고 다른 대안은 없을까?